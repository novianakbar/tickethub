<!DOCTYPE html>
<html lang="id" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="x-apple-disable-message-reformatting">
    <meta name="color-scheme" content="light dark">
    <meta name="supported-color-schemes" content="light dark">
    <title>Update Progress Ticket - {{APP_NAME}}</title>
    <!--[if mso]>
    <noscript>
        <xml>
            <o:OfficeDocumentSettings>
                <o:PixelsPerInch>96</o:PixelsPerInch>
            </o:OfficeDocumentSettings>
        </xml>
    </noscript>
    <![endif]-->
    <style>
        :root {
            color-scheme: light dark;
            supported-color-schemes: light dark;
        }
        @media (prefers-color-scheme: dark) {
            .body-bg { background-color: #1a1a1a !important; }
            .content-bg { background-color: #2d2d2d !important; }
            .header-bg { background-color: #b91c1c !important; }
            .text-primary { color: #f3f4f6 !important; }
            .text-secondary { color: #d1d5db !important; }
            .text-muted { color: #9ca3af !important; }
            .ticket-card { background-color: #3d1f1f !important; border-color: #dc2626 !important; }
            .ticket-number { color: #fca5a5 !important; }
            .info-border { border-color: #7f1d1d !important; }
            .progress-card { background-color: #14532d !important; border-color: #22c55e !important; }
            .progress-title { color: #86efac !important; }
            .progress-content { background-color: #1f2937 !important; border-color: #374151 !important; }
            .footer-bg { background-color: #262626 !important; border-color: #404040 !important; }
        }
    </style>
</head>

<body class="body-bg" style="margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: #f3f4f6; line-height: 1.6; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%;">
    <!-- Preview Text -->
    <div style="display: none; max-height: 0; overflow: hidden;">
        Update progress ticket {{TICKET_NUMBER}}: {{PROGRESS_TYPE}} - {{TICKET_SUBJECT}}
    </div>
    
    <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%" class="body-bg" style="background-color: #f3f4f6;">
        <tr>
            <td align="center" style="padding: 40px 20px;">
                <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="600" class="content-bg" style="max-width: 600px; width: 100%; background-color: #ffffff; border-radius: 8px;">
                    <!-- Header -->
                    <tr>
                        <td class="header-bg" style="background-color: #dc2626; padding: 32px 40px; text-align: center; border-radius: 8px 8px 0 0;">
                            <h1 style="margin: 0; color: #ffffff; font-size: 24px; font-weight: 700;">{{APP_NAME}}</h1>
                            <p style="margin: 8px 0 0 0; color: #ffffff; font-size: 14px; font-weight: 500;">Agent Notification</p>
                        </td>
                    </tr>

                    <!-- Icon Section -->
                    <tr>
                        <td style="padding: 40px 40px 24px 40px; text-align: center;">
                            <table role="presentation" cellpadding="0" cellspacing="0" border="0" align="center">
                                <tr>
                                    <td style="width: 64px; height: 64px; background-color: #dbeafe; border-radius: 32px; text-align: center; vertical-align: middle;">
                                        <span style="font-size: 24px; font-weight: 700; color: #3b82f6; line-height: 64px;">i</span>
                                    </td>
                                </tr>
                            </table>
                            <h2 class="text-primary" style="margin: 20px 0 0 0; color: #3b82f6; font-size: 22px; font-weight: 600;">Update Progress Ticket</h2>
                        </td>
                    </tr>

                    <!-- Content -->
                    <tr>
                        <td style="padding: 0 40px 32px 40px;">
                            <p class="text-secondary" style="margin: 0 0 20px 0; color: #4b5563; font-size: 15px;">
                                Kepada <strong class="text-primary" style="color: #1f2937;">{{CREATOR_NAME}}</strong>,
                            </p>
                            <p class="text-secondary" style="margin: 0 0 24px 0; color: #4b5563; font-size: 15px;">
                                Berikut adalah update progress terbaru untuk ticket yang Anda buat:
                            </p>

                            <!-- Ticket Info Card -->
                            <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%" class="ticket-card" style="background-color: #fef2f2; border: 1px solid #fecaca; border-radius: 6px; margin-bottom: 24px;">
                                <tr>
                                    <td style="padding: 24px;">
                                        <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%">
                                            <tr>
                                                <td class="info-border" style="padding: 0 0 16px 0; border-bottom: 1px solid #fecaca;">
                                                    <p class="text-muted" style="margin: 0 0 4px 0; color: #6b7280; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600;">Nomor Ticket</p>
                                                    <p class="ticket-number" style="margin: 0; color: #dc2626; font-size: 18px; font-weight: 700;">{{TICKET_NUMBER}}</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="info-border" style="padding: 16px 0; border-bottom: 1px solid #fecaca;">
                                                    <p class="text-muted" style="margin: 0 0 4px 0; color: #6b7280; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600;">Subjek</p>
                                                    <p class="text-primary" style="margin: 0; color: #1f2937; font-size: 15px; font-weight: 600;">{{TICKET_SUBJECT}}</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="info-border" style="padding: 16px 0; border-bottom: 1px solid #fecaca;">
                                                    <p class="text-muted" style="margin: 0 0 4px 0; color: #6b7280; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600;">Customer</p>
                                                    <p class="text-primary" style="margin: 0; color: #1f2937; font-size: 14px;">{{CUSTOMER_NAME}}</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 16px 0 0 0;">
                                                    <p class="text-muted" style="margin: 0 0 4px 0; color: #6b7280; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600;">Ditangani oleh</p>
                                                    <p class="text-primary" style="margin: 0; color: #1f2937; font-size: 14px;">{{AGENT_NAME}}</p>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                            </table>

                            <!-- Progress Update Card -->
                            <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%" class="progress-card" style="background-color: #f0fdf4; border: 1px solid #86efac; border-radius: 6px; margin-bottom: 24px;">
                                <tr>
                                    <td style="padding: 20px;">
                                        <p class="progress-title" style="margin: 0 0 16px 0; color: #16a34a; font-size: 12px; text-transform: uppercase; font-weight: 600; letter-spacing: 0.5px;">Update Terbaru</p>

                                        <!-- Progress Type -->
                                        <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%" style="margin-bottom: 12px;">
                                            <tr>
                                                <td style="vertical-align: top; width: 32px; padding-right: 12px;">
                                                    <table role="presentation" cellpadding="0" cellspacing="0" border="0">
                                                        <tr>
                                                            <td style="width: 28px; height: 28px; background-color: #16a34a; border-radius: 14px; text-align: center; vertical-align: middle;">
                                                                <span style="color: #ffffff; font-size: 14px; line-height: 28px;">{{PROGRESS_ICON}}</span>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                                <td style="vertical-align: top;">
                                                    <p class="text-primary" style="margin: 0; color: #1f2937; font-size: 15px; font-weight: 600;">{{PROGRESS_TYPE}}</p>
                                                    <p class="text-muted" style="margin: 4px 0 0 0; color: #9ca3af; font-size: 13px;">{{PROGRESS_DATE}}</p>
                                                </td>
                                            </tr>
                                        </table>

                                        <!-- Status Change (if applicable) -->
                                        {{#if STATUS_CHANGED}}
                                        <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%" class="progress-content" style="background-color: #ffffff; border: 1px solid #86efac; border-radius: 6px; margin-bottom: 12px;">
                                            <tr>
                                                <td style="padding: 12px;">
                                                    <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%">
                                                        <tr>
                                                            <td style="text-align: center; width: 40%;">
                                                                <span style="display: inline-block; background-color: #e5e7eb; color: #4b5563; padding: 4px 12px; border-radius: 4px; font-size: 12px; font-weight: 600;">{{OLD_STATUS}}</span>
                                                            </td>
                                                            <td style="text-align: center; width: 20%;">
                                                                <span style="color: #16a34a; font-size: 16px; font-weight: 700;">-&gt;</span>
                                                            </td>
                                                            <td style="text-align: center; width: 40%;">
                                                                <span style="display: inline-block; background-color: {{NEW_STATUS_COLOR}}; color: #ffffff; padding: 4px 12px; border-radius: 4px; font-size: 12px; font-weight: 600;">{{NEW_STATUS}}</span>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                        {{/if}}

                                        <!-- Progress Detail -->
                                        {{#if PROGRESS_DETAIL}}
                                        <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%" class="progress-content" style="background-color: #ffffff; border: 1px solid #86efac; border-radius: 6px;">
                                            <tr>
                                                <td style="padding: 12px;">
                                                    <p class="text-secondary" style="margin: 0; color: #4b5563; font-size: 14px; line-height: 1.6;">{{PROGRESS_DETAIL}}</p>
                                                </td>
                                            </tr>
                                        </table>
                                        {{/if}}
                                    </td>
                                </tr>
                            </table>

                            <!-- CTA Button -->
                            <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%">
                                <tr>
                                    <td align="center" style="padding: 8px 0;">
                                        <!--[if mso]>
                                        <v:roundrect xmlns:v="urn:schemas-microsoft-com:vml" xmlns:w="urn:schemas-microsoft-com:office:word" href="{{TICKET_URL}}" style="height:48px;v-text-anchor:middle;width:200px;" arcsize="10%" strokecolor="#b91c1c" fillcolor="#dc2626">
                                            <w:anchorlock/>
                                            <center style="color:#ffffff;font-family:sans-serif;font-size:15px;font-weight:600;">Lihat Detail Ticket</center>
                                        </v:roundrect>
                                        <![endif]-->
                                        <!--[if !mso]><!-->
                                        <a href="{{TICKET_URL}}" style="display: inline-block; background-color: #dc2626; color: #ffffff; text-decoration: none; padding: 14px 32px; border-radius: 6px; font-size: 15px; font-weight: 600; border: 1px solid #b91c1c;">Lihat Detail Ticket</a>
                                        <!--<![endif]-->
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                    <!-- Footer -->
                    <tr>
                        <td class="footer-bg" style="background-color: #f9fafb; padding: 24px 40px; border-top: 1px solid #e5e7eb; border-radius: 0 0 8px 8px;">
                            <p class="text-muted" style="margin: 0 0 8px 0; color: #6b7280; font-size: 13px; text-align: center;">
                                Anda menerima email ini karena Anda adalah pembuat ticket ini.
                            </p>
                            <p class="text-muted" style="margin: 0; color: #9ca3af; font-size: 12px; text-align: center;">
                                &copy; {{CURRENT_YEAR}} {{COMPANY_NAME}}. All rights reserved.
                            </p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>

</html>